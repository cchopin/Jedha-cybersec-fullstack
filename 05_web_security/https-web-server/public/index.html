<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyServ - √âtat du serveur</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, sans-serif;
            background: #0f0f13;
            min-height: 100vh;
            color: #e8e8e8;
            padding: 2rem;
        }

        .header {
            text-align: center;
            padding: 2rem;
            margin-bottom: 2rem;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border-radius: 12px;
            border: 1px solid #2a2a3e;
        }

        .logo {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        h1 {
            font-size: 2.5rem;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        .version {
            color: #888;
            font-size: 1rem;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(46, 213, 115, 0.15);
            color: #2ed573;
            padding: 0.5rem 1.2rem;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-top: 1rem;
        }

        .status-badge::before {
            content: "";
            width: 8px;
            height: 8px;
            background: #2ed573;
            border-radius: 50%;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(0.9); }
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .card {
            background: #18181f;
            border-radius: 12px;
            border: 1px solid #2a2a3e;
            overflow: hidden;
        }

        .card-header {
            background: linear-gradient(90deg, #1e1e2a, #252535);
            padding: 1rem 1.5rem;
            border-bottom: 1px solid #2a2a3e;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-header span {
            font-size: 1.2rem;
        }

        .card-header h2 {
            font-size: 1rem;
            font-weight: 600;
            color: #fff;
        }

        .card-body {
            padding: 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        tr {
            border-bottom: 1px solid #2a2a3e;
        }

        tr:last-child {
            border-bottom: none;
        }

        tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        td {
            padding: 0.8rem 1.2rem;
            font-size: 0.9rem;
        }

        td:first-child {
            color: #888;
            width: 45%;
            font-weight: 500;
        }

        td:last-child {
            color: #e8e8e8;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.85rem;
        }

        .tag {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .tag-green {
            background: rgba(46, 213, 115, 0.15);
            color: #2ed573;
        }

        .tag-blue {
            background: rgba(0, 212, 255, 0.15);
            color: #00d4ff;
        }

        .tag-purple {
            background: rgba(123, 44, 191, 0.15);
            color: #b388ff;
        }

        .tag-orange {
            background: rgba(255, 159, 67, 0.15);
            color: #ff9f43;
        }

        .progress-bar {
            background: #2a2a3e;
            border-radius: 4px;
            height: 8px;
            overflow: hidden;
            width: 100px;
            display: inline-block;
            margin-right: 10px;
            vertical-align: middle;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #7b2cbf);
            border-radius: 4px;
        }

        .footer {
            text-align: center;
            margin-top: 1rem;
            padding: 0.75rem;
            color: #555;
            font-size: 0.85rem;
        }

        .footer a {
            color: #00d4ff;
            text-decoration: none;
        }

        .methods {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        code {
            background: rgba(255, 255, 255, 0.08);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>PyServ</h1>
        <p class="version">Version 2.0.0 ‚Äî Serveur HTTPS Python s√©curis√©</p>
    </div>

    <div class="grid">
        <!-- Server Info -->
        <div class="card">
            <div class="card-header">
                <span></span>
                <h2>Informations Serveur</h2>
            </div>
            <div class="card-body">
                <table>
                    <tr>
                        <td>Nom du serveur</td>
                        <td>PyServ/2.0.0</td>
                    </tr>
                    <tr>
                        <td>Langage</td>
                        <td><span class="tag tag-blue">Python 3.12</span></td>
                    </tr>
                    <tr>
                        <td>Protocole</td>
                        <td><span class="tag tag-green">HTTPS/1.1 + TLS 1.3</span></td>
                    </tr>
                    <tr>
                        <td>Port d'√©coute</td>
                        <td>{{SERVER_PORT}}</td>
                    </tr>
                    <tr>
                        <td>Statut</td>
                        <td><span class="tag tag-green">Actif</span></td>
                    </tr>
                    <tr>
                        <td>PID</td>
                        <td>{{SERVER_PID}}</td>
                    </tr>
                    <tr>
                        <td>Chiffrement</td>
                        <td><span class="tag tag-green">üîí Activ√©</span></td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- SSL/TLS Security -->
        <div class="card">
            <div class="card-header">
                <span>üîê</span>
                <h2>S√©curit√© SSL/TLS</h2>
            </div>
            <div class="card-body">
                <table>
                    <tr>
                        <td>Version TLS</td>
                        <td><span class="tag tag-green">TLS 1.3</span></td>
                    </tr>
                    <tr>
                        <td>Algorithme de chiffrement</td>
                        <td>AES-256-GCM</td>
                    </tr>
                    <tr>
                        <td>Fonction de hachage</td>
                        <td>SHA-384</td>
                    </tr>
                    <tr>
                        <td>Type de certificat</td>
                        <td><span class="tag tag-orange">Auto-sign√© (Dev)</span></td>
                    </tr>
                    <tr>
                        <td>Perfect Forward Secrecy</td>
                        <td><span class="tag tag-green">Activ√©</span></td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- HTTP Features -->
        <div class="card">
            <div class="card-header">
                <span></span>
                <h2>Fonctionnalit√©s HTTP</h2>
            </div>
            <div class="card-body">
                <table>
                    <tr>
                        <td>M√©thodes support√©es</td>
                        <td>
                            <div class="methods">
                                <span class="tag tag-green">GET</span>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>Connexions persistantes</td>
                        <td><span class="tag tag-orange">Non impl√©ment√©</span></td>
                    </tr>
                    <tr>
                        <td>Chiffrement TLS</td>
                        <td><span class="tag tag-green">Actif</span></td>
                    </tr>
                    <tr>
                        <td>MIME Types</td>
                        <td>{{MIME_TYPES_COUNT}} types configur√©s</td>
                    </tr>
                    <tr>
                        <td>Listage des dossiers</td>
                        <td><span class="tag tag-orange">Non impl√©ment√©</span></td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Request Info -->
        <div class="card">
            <div class="card-header">
                <span></span>
                <h2>Requ√™te Actuelle</h2>
            </div>
            <div class="card-body">
                <table>
                    <tr>
                        <td>M√©thode</td>
                        <td><span class="tag tag-green">{{REQUEST_METHOD}}</span></td>
                    </tr>
                    <tr>
                        <td>URI</td>
                        <td><code>{{REQUEST_URI}}</code></td>
                    </tr>
                    <tr>
                        <td>Adresse client</td>
                        <td>{{CLIENT_IP}}</td>
                    </tr>
                    <tr>
                        <td>User-Agent</td>
                        <td style="font-size: 0.75rem;">{{USER_AGENT}}</td>
                    </tr>
                    <tr>
                        <td>Accept</td>
                        <td>{{ACCEPT_HEADER}}</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Performance -->
        <div class="card">
            <div class="card-header">
                <span></span>
                <h2>Performance</h2>
            </div>
            <div class="card-body">
                <table>
                    <tr>
                        <td>Uptime</td>
                        <td>{{SERVER_UPTIME}}</td>
                    </tr>
                    <tr>
                        <td>Requ√™tes trait√©es</td>
                        <td>{{REQUEST_COUNT}}</td>
                    </tr>
                    <tr>
                        <td>M√©moire utilis√©e</td>
                        <td>
                            <div class="progress-bar"><div class="progress-fill" style="width: {{MEMORY_PERCENT}}%"></div></div>
                            {{MEMORY_USAGE}}
                        </td>
                    </tr>
                    <tr>
                        <td>CPU</td>
                        <td>
                            <div class="progress-bar"><div class="progress-fill" style="width: {{CPU_PERCENT}}%"></div></div>
                            {{CPU_USAGE}}%
                        </td>
                    </tr>
                    <tr>
                        <td>Connexions actives</td>
                        <td>{{ACTIVE_CONNECTIONS}}</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Configuration -->
        <div class="card">
            <div class="card-header">
                <span></span>
                <h2>Configuration</h2>
            </div>
            <div class="card-body">
                <table>
                    <tr>
                        <td>Dossier racine</td>
                        <td><code>{{DOCUMENT_ROOT}}</code></td>
                    </tr>
                    <tr>
                        <td>Fichiers d'index</td>
                        <td>index.html</td>
                    </tr>
                    <tr>
                        <td>Taille du buffer</td>
                        <td>{{BUFFER_SIZE}} bytes</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- System -->
        <div class="card">
            <div class="card-header">
                <span></span>
                <h2>Syst√®me</h2>
            </div>
            <div class="card-body">
                <table>
                    <tr>
                        <td>OS</td>
                        <td>Darwin arm64</td>
                    </tr>
                    <tr>
                        <td>Hostname</td>
                        <td>HackBookPro</td>
                    </tr>
                    <tr>
                        <td>Architecture</td>
                        <td>ARM64</td>
                    </tr>
                    <tr>
                        <td>Kernel</td>
                        <td>25.0.0</td>
                    </tr>
                    <tr>
                        <td>Heure serveur</td>
                        <td>{{CURRENT_TIME}}</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
    <div class="footer">
        <p><strong>PyServ</strong> ‚Äî Serveur HTTPS Python s√©curis√© avec TLS 1.3</p>
        <p style="margin-top: 0.5rem;">Made with ‚ù§Ô∏è | <a href="#">Documentation</a> | <a target="blank" href="https://github.com/cchopin/Jedha-cybersec-fullstack/tree/main/05_web_security/https-web-server">GitHub</a></p>
    </div>
</body>
</html>